;----[ CHECKSUM.T FOR CHECKSUM.LIB.R ]--;LINK    = 0;ÉF MAKETAB IS CALLED IN THIS LIBRARY,;THEN IT MUST BE UNLINKED WHEN UNLOADED.;ÏTHERWISE, IT LEAKS THE TABLE MEMORY.;UNLINK  = 3;ÍAKETAB MUST BE CALLED TO CREATE THE;LOOKUP TABLES BEFORE INITCRC IS CALLED.;ÅG, BEFORE CALLING UPDC16, YOU MUST;    CALL MAKETAB WITH Á->16 FIRST.MAKETAB¤ = 6  ;ÍAKE ÃÒÃ ÔABLES;  Á -> 1,2,4   = 8,16,32;  Á -> 8,16,32 = 8,16,32;  Ã <- ÓET ON ÅRROR;ÃALL INITCRC TO INITIALIZE THE CRC TO;VALID INITIAL STATE BEFORE CALLING THE;UPDCØ ROUTINES ON THE DATA.;ÅG, TO RESET A ÃÒÃ AND PREPARE TO;    COMPUTE A NEW ÃÒÃ CALL INITCRC.INITCRC¤ = 9  ;ÉNITIALIZE ÃÒÃ WORKSPACE;  Á -> 1,2,4   = 8,16,32;  Á -> 8,16,32 = 8,16,32;  Ã <- ÓET ON ÅRROR;ÃALL INITCRC Á->1Ý8 ONCE BEFORE;CALLING UPDC8 REPEATEDLY ON THE DATA.UPDC8¤   = 12 ;ÕPDATE ÃÒÃ8;  Á   -> NEXT BYTE TO CHECKSUM;  CRC <- 8-BIT ÃÒÃ;ÃALL INITCRC Á->2Ý16 ONCE BEFORE;CALLING UPDC16 REPEATEDLY ON THE DATA.UPDC16¤  = 15 ;ÕPDATE ÃÒÃ16;  Á   -> NEXT BYTE TO CHECKSUM;  CRC <- 16-BIT ÃÒÃ;ÃALL INITCRC Á->4Ý32 ONCE BEFORE;CALLING UPDC32 REPEATEDLY ON THE DATA.UPDC32¤  = 18 ;ÕPDATE ÃÒÃ32;  Á   -> NEXT BYTE TO CHECKSUM;  CRC <- 32-BIT ÃÒÃ (XOR'D $FF);ÁFTER CALLING UPDCØ ON ALL DATA, CALL;GETCRC ONE TO FETCH A POINER TO THE;DATA AS AN INT OR A STRING CONVERSION.;ÔHIS ALSO PERFORMS SOME REQUIRED POST;PROCESSING ON THE CRC DATA.;ÎÏÔÅ: ÍAY ONLY BE CALLED ONCE IF;      ÃÒÃ32, BECAUSE OF FINAL ÅÏÒ'S.GETCRC¤  = 21 ;ÇET ÃÒÃ ÖALUE;  Á -> 1,2,4   = 8,16,32;  Á -> 8,16,32 = 8,16,32;  Ã -> ÓET = ÃONVERT TO STRING;  Ã -> ÃLR = ÇET DATA AS INT;  Ã      <- ÃLR ON SUCCESS;  ÒEGÐTR <- ÐOINTER TO INT OR STRING.;  Ã      <- ÓET ON ÅRROR