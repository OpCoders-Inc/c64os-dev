;----[ SCREEN.T ]-----------------------LSCR     = $0100-(2*5)       ;5TH ÍODULEEVTLOOP¤ = 0;  ÉNITIALIZES THE MAIN EVENT LOOP. ÔHE;  LOOP PULLS INPUT EVENTS AND FORWARDS;  THEM TO SCREEN LAYERS.;---------------------------------------MARKREDRAW¤ = 3;  Ø -> ÌAYER INDEX TO REDRAW FROM.;       ÁLL LAYERS ABOVE Ø WILL ALSO BE;       REDRAWN.;  Ø -> 0 TO REDRAW ALL LAYERS.LAYERPUSH¤ = 6;  ÒEGÐTR -> LAYER STRUCT;  ÓETS PUSHED INDEX INTO LAYER STRUCT.;  Ã <- ÓET ON ERRORLAYERPOP¤ = 9;  ÐOPS LAST PUSHED SCREEN LAYER.;  Ú <- ÓET IF ALL LAYERS POPPED;  Ú <- ÃLR IF LAYERS STILL EXIST;---------------------------------------;ÎÏÔÅ: ÉT IS POSSIBLE AND INTENDED TO;CHANGE DRAW PROPS MID DRAW. ÓUCH AS TO;CHANGE COLOR OR REVERSE/PET2SCR FLAGS.;×ÁÒÎÉÎÇ: ÃHANGING CURSOR MOVE DIRECTION;MIDDRAW IS NOT SUPPORTED, AND IS BUGGY.;ÁLWAYS CALL SETLRC FOR ROW AND COLUMN;WHEN CHANGING THE CURSOR DIRECTION.;ÈÏ× ÔÏ ÕÓÅ:;ÃALL SETDPROPS FIRST, THEN OPTIONALLY;ÃALL SETLRC TWICE, FOR ROW THEN COLUMN.SETLRC¤  = 12;ÓET ÌOCAL ÒOW OR ÃOLUMN;  ÒEG×RD -> 16-BIT LOCAL ROW/COLUMN;  Ã      -> ÃALL FIRST ÕNSET FOR ÒOW;  Ã      -> ÃALL AGAIN ÓET   FOR ÃOLUMNSETDPROPS¤ = 15;ÓET ÄRAW ÐROPERTIES;  Ø -> ÄRAW ÐROPERTY ÆLAGS;  Ù -> ÃOLOR ÃODECTXCLEAR¤ = 18;ÆILL THE CURRENTLY DEFINED CONTEXT.;  D¤CTX     -> ÓET AND ÃONFIGURED;  D¤REVERSE -> ÁLL PIXELS ON;  D¤COLOR   -> ÖISIBLE IN ÒÖÓ;  Á         -> ÆILL ÃHARACTERCTXDRAW¤ = 21;ÄRAW A CHARACTER WITH CONTEXT SETTINGS;  D¤CTX     -> ÓET AND ÃONFIGURED;  SETDPROPS -> ÃALLED EARLIER;  SETLRC    -> ÃALLED EARLIER;  Á         -> ÃHARACTER TO DRAW;  Ã <- ÓET, NO MORE VALID DRAWS;  Ã <- ÃLR, CAN STILL DRAW MORE;  ÎOTE: ÐRESERVES .Ø AND .ÙCTX2SCR¤ = 24;ÃOPY THE DRAW CONTEXT TO THE SCREEN BUF;AT THE OFFSET COORDINATES.;  Ø -> ÌEFT OFFSET (SIGNED);  Ù -> ÔOP  OFFSET;---------------------------------------REDRAW¤  = 27;  ÒEDRAWS ACCORDING TO LAYERS MARKED;  DIRTY. ÃALLED AUTOMATICALLY AT THE;  END OF THE MAIN EVENT LOOP.SCRROW¤  = 30;  Á -> ÒOW ÎUMBER;  ÒEGÐTR -> SCREEN BUFFER;  ÒEGÐTR <- LINE BUFFERLOADCLR¤ = 33;  ÃLEARS SCREEN MEMORY OF THE AREA;  THAT IS DRAWN TO BY THE ÌOADER'S;  SPLASH SCREEN.;  ÔHIS ONLY NEEDS TO BE CALLED IF THE;  APP BEING LOADED WILL INSTALL A;  CHARACTER SET. ÃALL THIS BEFORE;  INSTALLING THE NEW CHARACTER DATA.LOADICNS¤ = 36;  ÌOADS A TABLE OF SYSTEM ICONS;  ÒEGÐTR -> ÉCON ÔABLE;ÃHARSETÉNDEX,ÂITMASK,ÉCONÉÄ;.BYTE $77,$00,ICN¤MAN;.BYTE $78,$FF,ICN¤FLAG;.BYTE $00 ;ÔERMINATORCOPYBUFS¤ = 39;  ÔHIS IS A PRIVATE ÁÐÉ. ÉT WILL NOT BE;  DOCUMENTED. ÉT ALLOWS OTHER SYSTEM;  COMPONENTS TO INVOKE A SCREEN BUFFER;  COPY OUTSIDE THE MAIN EVENT LOOP. ÉT;  IS USED BY THE CRASH RECOVER LIBRARY.