;----[ CNP.T FOR CNP.LIB.R ]------------;LINK§   = $00;  …NITIALIZES CNP.LIB;UNLINK  = $03;  ’NSETS ITSELF AS NHD DATA HANDLERBINDNHD§ = $06;  ’PDATES NHD LINK TABLE FROM NDRVPGSESSBGN§ = $09;  ¬EGIN √Œ–†SERVER SESSION. ‘AKE CTRL;  OF AN OPEN SOCKET. ”END AUTH.;  ¡SSIGNS ITSELF AS NHD DATA HANDLER.;  “EG–TR ->†√Œ–†¡UTH ”TRUCTSESSEND§ = $0C;  ≈ND √Œ–†SERVER SESSION;  –AUSES THE KEEP ALIVE TIMER.;  √ ->†”ET = ŒOTIFY THAT SOCKET CLOSED;  √ -> √LR = ”END SERVICE MSG TO CLOSE;---------------------------------------OPENCNPS§ = $0F;  œPEN √Œ– ”OCKET;  “EG–TR ->†√Œ–†”OCKET ”TRUCTCLOSCNPS§ = $12;  √LOSE √Œ–†”OCKET;  “EG–TR ->†√Œ–†”OCKET ”TRUCTCNPSOUT§ = $15;  –REPARE √Œ–†”OCKET FOR OUTPUT;  ≈QUIV. OF CHKOUT IN À≈“Œ¡Ã†“œÕ;  “EG–TR ->†√Œ–†”OCKET ”TRUCTCNPSPUT§ = $18;  œUTPUT A BYTE TO √Œ–†”OCKET;  ≈QUIV. OF CHROUT IN À≈“Œ¡Ã†“œÕ;  ¡ ->†BYTE TO SEND;  √ <- ”ET = CAN TAKE MORE DATA;  √ <- √LR = CURRENT PACKET FULLCNPSCLR§ = $1B;  √LEAR TO SEND PACKET.;  ‘HE SOCKET IS STILL OPEN, BUT NO MORE;  DATA WILL BE WRITTEN AT THIS TIME.;  ◊HATEVER IS IN THE CURRENT PACKET CAN;  BE SENT IMMEDIATELY.CNPSIN§  = $1E;  –REPARE √Œ–†”OCKET FOR INPUT;  ≈QUIV. OF CHKIN IN À≈“Œ¡Ã†“œÕ;  ‘HIS MUST ONLY BE CALLED IN RESPONSE;  TO A SOCKET NOTIFICATION THAT NEW;  DATA HAS ARRIVED.;  “EG–TR ->†√Œ–†”OCKET ”TRUCTCNPSGET§ = $21;  “EAD A BYTE FROM THE CURRENT RECEIVE;  PACKET. “EQUIRES CNPSIN§ FIRST.;  ¡ <- NEXT BYTE IN PACKET;  √ <- ”ET = WHEN ¡ HOLDS LAST BYTE.CNPSACK§ = $24;  ¡CKNOWLEDGE THAT READING THE PACKET;  IS COMPLETE. ”ENDS A PT§ACK PACKET.;  ¡LLOWS THE √Œ– SERVER TO SEND THE;  NEXT PACKET.