;----[ DRAWBOX.S ]----------------------DRAWBOX  .MACROXA       = 0YA       = 1XB       = 2YB       = 3FILLCHAR = 4FILLCOLR = 5WIDTH    = XB ;ÏVERWRITESHIGHT    = YB ;ÏVERWRITES;---------------------------------------         LDA PAR+XB         CMP PAR+XA         BCS SKIPSWX         ;ÓWAP XA/XB         LDY PAR+XA         STA PAR+XA         STY PAR+XBSKIPSWX         ;ÇET WIDTH FROM DELTAØ         SEC         LDA PAR+XB         SBC PAR+XA    ;ÏRIGINØ         STA PAR+WIDTH ;×IDTH         ;ÉNSET DRAW CURSOR Ø         CLC         LDA D¤CTX+D¤ORIGIN         ADC PAR+XA         STA D¤DCRSR         LDA D¤CTX+D¤ORIGIN+1         ADC #0         STA D¤DCRSR+1         ;ÉNSET COLR CURSOR Ø         CLC         LDA D¤CTX+D¤COLORO         ADC PAR+XA         STA D¤CCRSR         LDA D¤CTX+D¤COLORO+1         ADC #0         STA D¤CCRSR+1;---------------------------------------         LDA PAR+YB         CMP PAR+YA         BCS SKIPSWY         ;ÓWAP YA/YB         LDY PAR+YA         STA PAR+YA         STY PAR+YBSKIPSWY         ;ÇET HEIGHT FROM DELTAÙ         SEC         LDA PAR+YB         SBC PAR+YA    ;ÏRIGINÙ         STA PAR+HIGHT ;ÈEIGHT         LDY PAR+YA         BEQ *+8         JSR INCROW         DEY         BNE *-4         LDA PAR+FILLCHAR         STA GETCHAR+1         LDA PAR+FILLCOLR         STA GETCOLR+1         LDX PAR+HIGHTDRAWROW  LDY PAR+WIDTHGETCHAR  LDA #$FF              ;ÓELF-ÍOD         STA (D¤DCRSR),YGETCOLR  LDA #$FF              ;ÓELF-ÍOD         STA (D¤CCRSR),Y         DEY         BPL GETCHAR         JSR INCROW         DEX         BPL DRAWROW         JMP PAR+6INCROW   ;ÉNCREMENT ÄRAW ÒOW         CLC         LDA D¤DCRSR         ADC D¤CTX+D¤BWIDTH         STA D¤DCRSR         BCC *+4         INC D¤DCRSR+1         ;ÉNCREMENT ÃOLR ÒOW         CLC         LDA D¤CCRSR         ADC D¤CTX+D¤BWIDTH         STA D¤CCRSR         BCC *+4         INC D¤CCRSR+1         RTSPAR      ;ÐARAMETERS (6 BYTES)         .ENDM